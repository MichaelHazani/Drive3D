function init(){function e(n){n.alpha&&(controls=new THREE.DeviceOrientationControls(camera,!0),controls.connect(),controls.update(),element.addEventListener("click",fullscreen,!1),window.removeEventListener("deviceorientation",e,!0))}renderer=new THREE.WebGLRenderer({alpha:!0}),element=renderer.domElement,container=document.getElementById("example"),container.appendChild(element),effect=new THREE.StereoEffect(renderer),scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(90,1,.001,700),camera.position.set(0,10,0),scene.add(camera),controls=new THREE.OrbitControls(camera,element),controls.rotateUp(Math.PI/4),controls.target.set(camera.position.x+.1,camera.position.y,camera.position.z),controls.noZoom=!0,controls.noPan=!0,window.addEventListener("deviceorientation",e,!0);var n=new THREE.HemisphereLight(16777215,0,1);n.position.set(0,10,0),scene.add(n);var t=new THREE.AmbientLight(16777215,1);scene.add(t);var r=THREE.ImageUtils.loadTexture("images/textures/patterns/checker.png");r.wrapS=THREE.RepeatWrapping,r.wrapT=THREE.RepeatWrapping,r.repeat=new THREE.Vector2(50,50),r.anisotropy=renderer.getMaxAnisotropy();var a=new THREE.MeshPhongMaterial({color:2236962,specular:16777215,shininess:20,shading:THREE.FlatShading,map:r}),o=new THREE.PlaneGeometry(1e3,1e3),i=new THREE.Mesh(o,a);i.rotation.x=-Math.PI/2,scene.add(i),window.addEventListener("resize",resize,!1),setTimeout(resize,1)}function createFolders(e){function n(e,n,t,r){var a=new THREE.FontLoader;a.load("fonts/helvetiker_regular.typeface.json",function(a){var o=new THREE.TextGeometry(r,{font:a,size:4,height:1,curveSegments:6,bevelThickness:1,bevelSize:.1,bevelEnabled:!1});o.computeBoundingBox();var i=new THREE.Mesh(o,new THREE.MeshPhongMaterial({color:0,specular:16777215})),s=i.geometry.boundingBox.max.x/2;o.applyMatrix((new THREE.Matrix4).makeTranslation(-1*s,0,0)),i.position.set(e,n+25,t),i.lookAt(camera.position),scene.add(i)})}var t=80,r=radians(0),a=radians(50),o=radians(360/e.entries.length);for(entry in e.entries){var i=t*Math.cos(r)*Math.sin(a),s=t*Math.sin(r)*Math.sin(a)+20,c=t*Math.cos(a),l=folder.clone();l.position.set(i,s,c),folders.push(l),scene.add(l),n(i,s,c,e.entries[entry].name),a-=o}}function render(e){effect.render(scene,camera)}function animate(e){for(folder in folders)folders[folder].rotation.z+=.01;requestAnimationFrame(animate),update(clock.getDelta()),render(clock.getDelta())}function radians(e){return e*Math.PI/180}function resize(){var e=container.offsetWidth,n=container.offsetHeight;camera.aspect=e/n,camera.updateProjectionMatrix(),renderer.setSize(e,n),effect.setSize(e,n)}function update(e){resize(),camera.updateProjectionMatrix(),controls.update(e)}function fullscreen(){container.requestFullscreen?container.requestFullscreen():container.msRequestFullscreen?container.msRequestFullscreen():container.mozRequestFullScreen?container.mozRequestFullScreen():container.webkitRequestFullscreen&&container.webkitRequestFullscreen()}var camera,scene,renderer,effect,controls,element,container,clock=new THREE.Clock,folder,folders=[];init(),animate();var colladaLoader=new THREE.ColladaLoader;colladaLoader.options.convertUpAxis=!0,colladaLoader.load("models/folder2.dae",function(e){folder=e.scene.children[0],folder.scale.set(10,10,10),folder.rotateX(radians(90)),folder.rotateY(radians(340))});var dbx=new Dropbox({accessToken:"jP-3gUxYcvgAAAAAAABlsZHqfu6yw81fpKwUNvrz509F7BndLSErAGguza6hHqUJ"});dbx.filesListFolder({path:""}).then(function(e){createFolders(e)})["catch"](function(e){console.log(e)});